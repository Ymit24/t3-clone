<%# locals: (message:) %>
<div class="max-w-xl self-end flex flex-col gap-2 items-end justify-between group" id="<%= dom_id(message) %>" >
  <div class="px-4 py-3 bg-chat-message rounded-lg border border-border")>
    <%= message.value %>
  </div>
  <div class="flex flex-row gap-2 justify-end opacity-0 group-hover:opacity-100 transition-all duration-200">
    <%= link_to edit_chat_message_path(message.chat, message) do %>
      <%= heroicon "arrow-path", options: {class: "w-5 h-5 aspect-square text-text-secondary hover:text-blue-500 transition-colors duration-200"} %>
    <% end %>
    <%= link_to edit_chat_message_path(message.chat, message) do %>
      <%= heroicon "pencil-square", options: {class: "w-5 h-5 aspect-square text-text-secondary hover:text-green-500 transition-colors duration-200"} %>
    <% end %>
    <%= button_to chat_message_path(message.chat, message),
                method: :delete, 
                data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this message?", turbo_frame: "_top" },
                class: "" do %>
      <%= heroicon "trash", options: { class: "w-5 h-5 aspect-square rounded-full text-text-secondary hover:text-red-500 transition-colors duration-200" } %>
    <% end %>
  </div>
</div>
