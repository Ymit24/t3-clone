<%# locals: (message:) %>
<%= turbo_frame_tag dom_id(message), class: "self-end", id: dom_id(message) do %>
  <%= render ChatBubbleComponent.new do |bubble| %>
    <%= bubble.with_body { markdown(message.body) } %>
    <%= bubble.with_action_button(href: chat_message_retry_path(message.chat, message), icon: "arrow-path") %>
    <%= bubble.with_action_link(href: edit_chat_message_path(message.chat, message), icon: "pencil-square", data: { turbo_frame: dom_id(message), }) %>
  <% end %>
<% end %>
